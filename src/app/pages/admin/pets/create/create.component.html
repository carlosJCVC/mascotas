<mat-card>
  <h2>
    Registrar Mascota
  </h2>
  
  <mat-card-content>
    <form class="form" fxLayout="column" fxLayoutAlign="start stretch" [formGroup]="petForm">
    <div *ngIf="existImage; else nothing;">
            <img mat-card-sm-image class="image_preview" [src]="url">
            <br>
    </div>
    <ng-template #nothing></ng-template>
    <label>Imagen de la mascota *</label>
    <input #imagePet type="hidden" [value]="urlPet|async">
      <div class="preview_img_pet">
       <!-- <img [src]="url" height="200" width="200" class="preview_img" id="preview"> -->
        <input id="fileInput" hidden type='file' accept=".jpg, .png" (change)="onSelectFile($event)">
      </div>
      <br>
      <button mat-raised-button type="button" (click)="openInput()">
        Escoga la imagen para subir
      </button>
      <div class="progress">
        <mat-progress-bar
          [value]="uploadPercent|async">
        </mat-progress-bar>
      </div>
     

      <mat-form-field>
        <input formControlName="nombre" matInput class="input" placeholder="Nombre mascota" required>
        <mat-error>El campo nombre es requerido.(Tam max 30)</mat-error>
      </mat-form-field>
      <div *ngIf="formErrors.nombre" class="help is-danger">
        {{ formErrors.nombre }}
      </div>

      <mat-form-field>
        <input formControlName="raza" matInput class="input" placeholder="Raza" required>
        <mat-error>El campo raza es requerido.(Tam max 30)</mat-error>
      </mat-form-field>
      <div *ngIf="formErrors.raza" class="help is-danger">
        {{ formErrors.raza }}
      </div>

      <mat-form-field>
        <mat-select formControlName="especie" placeholder="Especie">
          <mat-option>None</mat-option>
          <mat-option value="perro">PERRO</mat-option>
          <mat-option value="gato">GATO</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <input formControlName="edad" matInput placeholder="Edad*" type="number" min="1">
        <mat-error>Edad de mascota es requerido.</mat-error>
      </mat-form-field>
      <div *ngIf="formErrors.edad" class="help is-danger">
        {{ formErrors.edad }}
      </div>

      <mat-form-field>
        <mat-select formControlName="sexo" placeholder="Sexo">
          <mat-option>None</mat-option>
          <mat-option value="macho">MACHO</mat-option>
          <mat-option value="hembra">HEMBRA</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <input formControlName="procedencia" matInput placeholder="Procedencia*">
        <mat-error>Procedencia de la mascota es requerido.</mat-error>
      </mat-form-field>
      <div *ngIf="formErrors.procedencia" class="help is-danger">
        {{ formErrors.procedencia }}
      </div>

      <mat-form-field>
        <input formControlName="enfermedades" matInput placeholder="Enfermedades*">
        <mat-error>Enfermedades de la mascota es requerido.</mat-error>
      </mat-form-field>
      <div *ngIf="formErrors.enfermedades" class="help is-danger">
        {{ formErrors.enfermedades }}
      </div>

      <mat-form-field>
        <input formControlName="descripcion" matInput placeholder="Descripcion*">
        <mat-error>Descripcion de la mascota es requerido.</mat-error>
      </mat-form-field>
      <br>
      <button  mat-raised-button color="primary" type="submit" [disabled]="!petForm.valid || !existImage" (click)="create()">Guardar
        </button>
      <br>
      <button mat-raised-button color="" (click)="onCancel()">Cancelar</button>
    </form>
  </mat-card-content>

</mat-card>
